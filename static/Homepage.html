<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" href="styleHome.css">
</head>

<body>

    <nav>
        <h1 class="logo">Game Nexus</h1>

        <a href="#" onclick="loadPage('post')" id="nvoptions" class="option"><i class="fas fa-home"></i> Home</a>

        <a href="#" onclick="loadPage('search')" id="nvoptions" class="option"><i class="fas fa-search"></i> Search</a>

        <a href="#" onclick="loadPagein('events', 'usr')" id="nvoptions" class="event"><i class="far fa-calendar-alt"></i>Events</a>

        <a href="#" onclick="loadPage('chat')" id="nvoptions" class="option"><i class="fas fa-search"></i> Chat</a>

        <div class="option" id="nvoptions">

            <a href="#" onclick="loadPage('profile')" id="nvoptions" class="prb"><i class="far fa-user"></i>
                Profile</a><button onclick="toggleDropdown('ProfileDropdown')" class="dpd">&#9662;</button>
            <div class="dropdown" id="ProfileDropdown">
                <ul>
                    <li><button onclick="loadPagein('profile', 'editProfile')" class="edit-profile" id="buttons">Edit
                            Profile</button></li>
                    <li><button onclick="logout()" class="logout-button" id="buttons">Logout</button></li>
                    <li><button onclick="loadPagein('profile', 'del')" class="delete-profile-button" id="buttons">Delete
                            Profile</button></li>
                </ul>
            </div>
        </div>

        <script>
            function toggleDropdown(dropdownId) {
                var dropdown = document.getElementById(dropdownId);
                dropdown.classList.toggle("show");
            }

            window.onclick = function (event) {
                if (!event.target.matches('.option button')) {
                    var dropdowns = document.getElementsByClassName('dropdown');
                    for (var i = 0; i < dropdowns.length; i++) {
                        var openDropdown = dropdowns[i];
                        if (openDropdown.classList.contains('show')) {
                            openDropdown.classList.remove('show');
                        }
                    }
                }
            }
        </script>

        <a href="#" onclick="loadPage('plans')" id="nvoptions" class="option"><i class="fas fa-gem"></i> Premium</a>

    </nav>

    <section class="mainc">
        <iframe id="content" src="Post.html" width="100%" height="100%" frameborder="0"></iframe>
    </section>
    <section class="options-section">
        <iframe id="options-content" src="Post_options.html" width="100%" height="100%" frameborder="0"></iframe>
    </section>

    <script>
        function loadPage(pageName) {
            console.log(`Loading page: ${pageName}`);

            // Update the content iframe
            document.getElementById("content").src = `/${pageName}`;

            // Update the options iframe
            const relatedPageName = `${pageName}_options`;
            document.getElementById("options-content").src = `/${pageName}/${relatedPageName}`;
        }
        function loadPagein(parentName, pageName) {
            console.log(`Loading page: ${pageName}`);

            // Update the content iframe
            document.getElementById("content").src = `/${parentName}/${pageName}`;

            // Update the options iframe
            const relatedPageName = `${pageName}_options`;
            document.getElementById("options-content").src = `/${pageName}/${relatedPageName}`;
        }

        function logout() {
            window.top.location.href = '/';
        }
    </script>

</body>

</html>